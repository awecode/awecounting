{% extends "_base.html" %}
{% load i18n staticfiles %}
{% load filters %}

{% block title %}{% trans 'Sales' %}{% endblock %}

{% block page-header %}
    {% if to_date %}
        Sales from {{ from_date }} to {{ to_date }}
    {% else %}
        Sales for {{ from_date }}
    {% endif %}
{% endblock %}

{% block content %}
    <div class='container'>
        <div class="row">

            {% load pagination_tags %}
            {% load sorting_tags %}
            {% load filters %}

            {% autosort objects as sorted_objects %}
            {% autopaginate sorted_objects 25 as paginated_objects %}

            <table class="table table-striped table-bordered">
                <tr>
                    <th>Total Amount Sold</th>
                    <td>{{ total_amount }}</td>
                </tr>
                <tr>
                    <th>Total Quantity Sold</th>
                    <td>{{ total_quantity }}</td>
                </tr>
                <tr>
                    <th>Total Particulars Sold</th>
                    <td>{{ total_items }}</td>
                </tr>
            </table>

            <table class="table table-striped table-bordered">
                <thead>
                <th>{% anchor voucher_no _('Voucher No.') %}</th>
                <th>{% anchor date _('Date') %}</th>
                <th>{% trans 'Total' %}</th>

                </thead>
                <tbody>
                {% for sale in paginated_objects %}
                    <tr>
                        <td>
                            <a href="{% url 'sale-detail' sale.pk %}">{{ sale.voucher_no }}</a>
                        </td>
                        <td>
                            {{ sale.date }}
                        </td>
                        <td>
                            {{ sale.total }}
                        </td>
                    </tr>
                {% endfor %}
                </tbody>
            </table>

            {% paginate %}


            <a class="btn btn-default btn-lg"
               href="{% url 'sale-create' %}">{% trans 'New' %} {% trans 'Sale' %}</a>

        </div>
    </div>
{% endblock %}